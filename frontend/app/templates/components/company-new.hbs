<section id="profil" class="section">
  <div id="accordion">
    <div class="card mb-3">
      {{#form-for newCompany submit=(action 'submit' newCompany) as |f|}}
        <div class="card-header bg-primary">
          <div class="row">
            <div class="col-sm-6">
              <a class="card-link text-white" data-toggle="collapse" data-parent="#accordion" href="#collapseOne">Firma Erfassen</a>
            </div>
            <div class="col-sm-6 text-right d-block">
              {{! TODO: Submit via action submit doesnt work, are you sure message after click on delete button}}
              <a {{action 'submit' newCompany}} role="button" class="card-link text-white"><i class="fa save"></i></a>
            </div>
          </div>
        </div>
        <div id="collapseOne" class="collapse show border border-primary rounded-bottom">
          <div class="card-body">
            <div class="row">
              <div class="col-sm-4">
                <table class="table-uebersicht">
                  <tr>
                    <td>{{f.text-field 'name' label="Name"}}</td>
                  </tr>
                  <tr>
                    <td>
                      <button class="btn btn-success form-field--control" type="button" {{action 'addLocations' newCompany}}>Neue Adresse</button>
                    </td>
                  </tr>
                  {{#each newCompany.locations as |location|}}
                    {{#fields-for location as |l|}}
                      <tr>
                        <td>{{l.text-field 'location' label="Standort"}}</td>
                      </tr>
                    {{/fields-for}}
                  {{/each}}
                  <tr>
                    <td>{{f.text-field 'web' label="Web"}}</td>
                  </tr>
                  <tr>
                    <td>{{f.text-field 'email' label="Email"}}</td>
                  </tr>
                  <tr>
                    <td>{{f.text-field 'phone' label="Telefon"}}</td>
                  </tr>
                </table>
              </div>
              <div class="col-sm-4">
                <table class="table-uebersicht">
                  <tr>
                    <td>{{f.text-field 'partnermanager' label="PM"}}</td>
                  </tr>
                  <tr>
                    <td>{{f.text-field 'contactPerson' label="Ansprechperson"}}</td>
                  </tr>
                  <tr>
                    <td>{{f.text-field 'emailContactPerson' label="Email"}}</td>
                  </tr>
                  <tr>
                    <td>{{f.text-field 'phoneContactPerson' label="Telefon"}}</td>
                  </tr>
                  <tr>
                    <td>{{f.text-field 'crm' label="CRM"}}</td>
                  </tr>
                </table>
              </div>
              <div class="col-sm-4">
                <table class="table-uebersicht">
                  <tr>
                    <td>{{f.text-field 'level' label="Level"}}</td>
                  </tr>
                  <tr>
                    <td>
                      <button class="btn btn-success form-field--control" type="button" {{action 'addEmployeeQuantity' newCompany}}>Neue Mitarbeiter-Anzahl</button>
                    </td>
                  </tr>
                  {{#each newCompany.employeeQuantities as |quantity|}}
                    {{#fields-for quantity as |q|}}
                      <tr>
                        <td>{{q.text-field 'category' label="Kategorie"}}</td>
                      </tr>
                      <tr>
                        <td>{{q.text-field 'quantity' label="Anzahl"}}</td>
                      </tr>
                    {{/fields-for}}
                  {{/each}}
                </table>
              </div>
            </div>
          </div>
        </div>
      {{/form-for}}
    </div>
  </div>
</section>
